(()=>{"use strict";var e,t,r,n={2253:(e,t,r)=>{var n=r(7294),c=r(3935),a=r(436),o=r(1859),i=r(5974),l=r(2445),p=r(6922);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f=r(4942),u=r(8152),d=r(7036),s=r(1169);const g=(0,s.ZL)()((function(e){return{root:{height:"100vh",display:"flex",flexDirection:"column"},row:{display:"flex"},col:{margin:5,border:"1px solid black"},dropzone:{background:d.Z[900],height:190,width:190,display:"grid",gap:5,gridAutoRows:"minmax(100px, auto)"},things:{display:"flex",flexWrap:"wrap","& div *":{height:100,width:100,margin:5}},thing:{width:"100%",height:"100%",minHeight:30,minWidth:30,fontWeight:700,backgroundSize:"cover",display:"flex",justifyContent:"center",alignItems:"center"}}}));var b=r(5614),m=(0,s.ZL)()((function(e,t){return{root:{cursor:t.isDragging?"grabbing !important":"grab"}}}));const v=function(e){var t=e.children,r=(e.type,e.id),c=(0,b.c)((function(){return{type:"Draggable",item:{id:r},collect:function(e){return{isDragging:!!e.isDragging()}}}})),a=(0,u.Z)(c,2),o=a[0].isDragging,i=a[1],l=m({isDragging:o}).classes;return n.createElement("div",{className:l.root,ref:i},t)};var h=r(2452),y=(0,s.ZL)()((function(e,t){return{root:{background:t.isOver?"red":"white"}}}));const j=function(e){var t=e.children,r=(e.accept,e.onDrop),c=(0,h.L)((function(){return{accept:"Draggable",collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}},drop:r}})),a=(0,u.Z)(c,2),o=a[0],i=o.canDrop,l=o.isOver,p=a[1],f=y({isOver:l,canDrop:i}).classes;return n.createElement("div",{className:f.root,ref:p,role:"Dustbin"},t)},O=r.p+"306f945d7e0ad2375bd0059bb5dbca6c.jpg",w=r.p+"f8a87a85753741983ce17386021527bb.jpg",E=r.p+"bf53cb9b3919914a7cc18f01b5d48f7b.jpg",k=r.p+"f1773ef6f4c765609fc359390d84cc56.jpg",D=r.p+"7613997f9d9c83425330e2be0726b436.jpg",P=r.p+"87bdef0a4cc6a331aab882687a31af0e.jpg",x=r.p+"a753891e8e1616712398861e78bd6f79.jpg",N=r.p+"1016255b63c089e78b69ab7a6223423a.jpg",S=r.p+"95ebea3e5fb6d8fa50caec03dfd4b2e3.jpg",Z=r.p+"19a13f9818c66e315b2b3b29e249518a.jpg",_=r.p+"c8658897ce3c58bbb2e6a69454e7f474.jpg",M=r.p+"2977f48f18ecd4a76147b3f7a2d88e13.jpg",T=r.p+"526d20d4307710e81b4afc394738f44a.jpg",C=r.p+"bc3c870c7839e2628cf63afbe7843452.jpg",W=r.p+"dc223ef73c57b9541dea15c6c1d17c07.jpg",L=r.p+"dc037894e6d6508ea66ae401ae81deea.jpg",I=r.p+"b0807fad85c148accd71796586d9481a.jpg",$=r.p+"b90e2d37b599375edaac30c21536e6f0.jpg",z=r.p+"b7629b6967821275732bbb3609e47dc1.jpg",B=r.p+"81bcf11ceb78f4facf99d898d979fd48.jpg",q=r.p+"cc7cd85c1c69c1b9b0c69d95d917cfd1.jpg",A=r.p+"d531526bfc689f865a344d10d99c4a06.jpg";function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,f.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G=["Good","Neutral","Evil"],H=["Lawful","Neutral","Chaotic"],J=[O,w,E,k,D,P,x,N,S,Z,_,M,T,C,W,L,I,$,z,B,q,A];const K=function(){var e=g().classes,t=n.useState(J),r=(0,u.Z)(t,2),c=(r[0],r[1]),a=n.useState({}),o=(0,u.Z)(a,2),i=o[0],l=o[1],p=function(e,t){l((function(r){return F(F({},r),{},(0,f.Z)({},t.id,e))})),c((function(e){return e.filter((function(e){return e!==t.id}))}))};return n.createElement("div",{className:e.root},G.map((function(t){return n.createElement("div",{key:t,className:e.row},H.map((function(r){var c=J.filter((function(e){return i[e]==="".concat(t).concat(r)}));return n.createElement(j,{key:"".concat(t).concat(r),onDrop:function(e,n){return p("".concat(t).concat(r),e)}},n.createElement("div",null,r," ",t),n.createElement("div",{className:e.col},n.createElement("div",{className:e.dropzone,style:{gridTemplateColumns:"repeat(".concat(Math.ceil(Math.sqrt(c.length)),", 1fr)"),gridTemplateRows:"repeat(".concat(Math.ceil(Math.sqrt(c.length)),", 1fr)")}},c.map((function(t){return n.createElement(v,{id:t,key:t},n.createElement("div",{className:e.thing,style:{backgroundImage:"url(".concat(t,")")}}))})))))})))})),n.createElement(j,{key:"pool",onDrop:function(e,t){return p(void 0,e)}},n.createElement("div",{className:e.things},J.filter((function(e){return!i[e]})).map((function(t){return n.createElement(v,{id:t,key:t},n.createElement("div",{className:e.thing,style:{backgroundImage:"url(".concat(t,")")}}))})))))},Q=(0,r(2161).Z)({});var U=(0,o.default)({key:"mui",prepend:!0});c.render(n.createElement(a.C,{value:U},n.createElement(i.Z,{theme:Q},n.createElement(p.W,{backend:l.PD},n.createElement(K,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},c={};function a(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={exports:{}};return n[e].call(r.exports,r,r.exports,a),r.exports}a.m=n,e=[],a.O=(t,r,n,c)=>{if(!r){var o=1/0;for(f=0;f<e.length;f++){for(var[r,n,c]=e[f],i=!0,l=0;l<r.length;l++)(!1&c||o>=c)&&Object.keys(a.O).every((e=>a.O[e](r[l])))?r.splice(l--,1):(i=!1,c<o&&(o=c));if(i){e.splice(f--,1);var p=n();void 0!==p&&(t=p)}}return t}c=c||0;for(var f=e.length;f>0&&e[f-1][2]>c;f--)e[f]=e[f-1];e[f]=[r,n,c]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var c=Object.create(null);a.r(c);var o={};t=t||[null,r({}),r([]),r(r)];for(var i=2&n&&e;"object"==typeof i&&!~t.indexOf(i);i=r(i))Object.getOwnPropertyNames(i).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,a.d(c,o),c},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={179:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,c,[o,i,l]=r,p=0;if(o.some((t=>0!==e[t]))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(l)var f=l(a)}for(t&&t(r);p<o.length;p++)c=o[p],a.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return a.O(f)},r=self.webpackChunkapp=self.webpackChunkapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=a.O(void 0,[216],(()=>a(2253)));o=a.O(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NkMsR0FBMEMsSUFBN0JELEVBQWdCQyxHQUd4RCxJQUFJQyxFQUF1QixDQUFDQyxFQUE0QkMsS0FDdkQsSUFHSWhFLEVBQVU2RCxHQUhUcEQsRUFBVXdELEVBQWFDLEdBQVdGLEVBR2hCbEQsRUFBSSxFQUMzQixHQUFHTCxFQUFTMEQsTUFBTXZKLEdBQWdDLElBQXhCZ0osRUFBZ0JoSixLQUFhLENBQ3RELElBQUlvRixLQUFZaUUsRUFDWmxFLEVBQW9Cd0MsRUFBRTBCLEVBQWFqRSxLQUNyQ0QsRUFBb0JPLEVBQUVOLEdBQVlpRSxFQUFZakUsSUFHaEQsR0FBR2tFLEVBQVMsSUFBSTFELEVBQVMwRCxFQUFRbkUsR0FHbEMsSUFER2dFLEdBQTRCQSxFQUEyQkMsR0FDckRsRCxFQUFJTCxFQUFTbEMsT0FBUXVDLElBQ3pCK0MsRUFBVXBELEVBQVNLLEdBQ2hCZixFQUFvQndDLEVBQUVxQixFQUFpQkMsSUFBWUQsRUFBZ0JDLElBQ3JFRCxFQUFnQkMsR0FBUyxLQUUxQkQsRUFBZ0JDLEdBQVcsRUFFNUIsT0FBTzlELEVBQW9CUSxFQUFFQyxJQUcxQjRELEVBQXFCQyxLQUFzQixnQkFBSUEsS0FBc0IsaUJBQUssR0FDOUVELEVBQW1CL0IsUUFBUXlCLEVBQXFCUSxLQUFLLEtBQU0sSUFDM0RGLEVBQW1CRyxLQUFPVCxFQUFxQlEsS0FBSyxLQUFNRixFQUFtQkcsS0FBS0QsS0FBS0YsSyxHQzdDdkYsSUFBSUksRUFBc0J6RSxFQUFvQlEsT0FBRTVCLEVBQVcsQ0FBQyxNQUFNLElBQU9vQixFQUFvQixRQUM3RnlFLEVBQXNCekUsRUFBb0JRLEVBQUVpRSxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwL3dlYnBhY2svcnVudGltZS9jaHVuayBsb2FkZWQiLCJ3ZWJwYWNrOi8vYXBwL3dlYnBhY2svcnVudGltZS9jcmVhdGUgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2FwcC8uL3NyYy9zZXJ2aWNlV29ya2VyLmpzIiwid2VicGFjazovL2FwcC8uL3NyYy9jb250YWluZXJzL0FwcC9zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2NvbXBvbmVudHMvRHJhZ2dhYmxlLmpzIiwid2VicGFjazovL2FwcC8uL3NyYy9jb21wb25lbnRzL0Ryb3BwYWJsZS5qcyIsIndlYnBhY2s6Ly9hcHAvLi9zcmMvYXNzZXRzL2JyZWFrZmFzdC9iYWNvbl8yNTZ4MjU2LmpwZyIsIndlYnBhY2s6Ly9hcHAvLi9zcmMvYXNzZXRzL2JyZWFrZmFzdC9iYWdlbF8yNTZ4MjU2LmpwZyIsIndlYnBhY2s6Ly9hcHAvLi9zcmMvYXNzZXRzL2JyZWFrZmFzdC9icmVha2Zhc3QtYnVycml0b18yNTZ4MjU2LmpwZyIsIndlYnBhY2s6Ly9hcHAvLi9zcmMvYXNzZXRzL2JyZWFrZmFzdC9icmVha2Zhc3Qtc2FuZHdpY2hfMjU2eDI1Ni5qcGciLCJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2Fzc2V0cy9icmVha2Zhc3QvY2VyZWFsXzI1NngyNTYuanBnIiwid2VicGFjazovL2FwcC8uL3NyYy9hc3NldHMvYnJlYWtmYXN0L2Npbm5hbW9uLXJvbGxzXzI1NngyNTYuanBnIiwid2VicGFjazovL2FwcC8uL3NyYy9hc3NldHMvYnJlYWtmYXN0L2NyZXBlc18yNTZ4MjU2LmpwZyIsIndlYnBhY2s6Ly9hcHAvLi9zcmMvYXNzZXRzL2JyZWFrZmFzdC9jcm9pc3NhbnRfMjU2eDI1Ni5qcGciLCJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2Fzc2V0cy9icmVha2Zhc3QvZG9udXRzXzI1NngyNTYuanBnIiwid2VicGFjazovL2FwcC8uL3NyYy9hc3NldHMvYnJlYWtmYXN0L2ZyZW5jaC10b2FzdF8yNTZ4MjU2LmpwZyIsIndlYnBhY2s6Ly9hcHAvLi9zcmMvYXNzZXRzL2JyZWFrZmFzdC9mcmllZC1lZ2dfMjU2eDI1Ni5qcGciLCJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2Fzc2V0cy9icmVha2Zhc3QvZnJpdHRhdGFfMjU2eDI1Ni5qcGciLCJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2Fzc2V0cy9icmVha2Zhc3QvZnJ1aXQtc2FsYWRfMjU2eDI1Ni5qcGciLCJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2Fzc2V0cy9icmVha2Zhc3QvaGFzaGJyb3duc18yNTZ4MjU2LmpwZyIsIndlYnBhY2s6Ly9hcHAvLi9zcmMvYXNzZXRzL2JyZWFrZmFzdC9vbWVsZXR0ZV8yNTZ4MjU2LmpwZyIsIndlYnBhY2s6Ly9hcHAvLi9zcmMvYXNzZXRzL2JyZWFrZmFzdC9vYXRtZWFsXzI1NngyNTYuanBnIiwid2VicGFjazovL2FwcC8uL3NyYy9hc3NldHMvYnJlYWtmYXN0L3BhbmNha2VzXzI1NngyNTYuanBnIiwid2VicGFjazovL2FwcC8uL3NyYy9hc3NldHMvYnJlYWtmYXN0L3NhdXNhZ2VfMjU2eDI1Ni5qcGciLCJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2Fzc2V0cy9icmVha2Zhc3Qvc2NyYW1ibGVkLWVnZ3NfMjU2eDI1Ni5qcGciLCJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2Fzc2V0cy9icmVha2Zhc3Qvc21vb3RoaWVfMjU2eDI1Ni5qcGciLCJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2Fzc2V0cy9icmVha2Zhc3QvdG9hc3RfMjU2eDI1Ni5qcGciLCJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2Fzc2V0cy9icmVha2Zhc3Qvd2FmZmxlc18yNTZ4MjU2LmpwZyIsIndlYnBhY2s6Ly9hcHAvLi9zcmMvY29udGFpbmVycy9BcHAvYXBwLmpzIiwid2VicGFjazovL2FwcC8uL3NyYy9jb250YWluZXJzL0FwcC9pbmRleC5qcyIsIndlYnBhY2s6Ly9hcHAvLi9zcmMvdGhlbWUuanMiLCJ3ZWJwYWNrOi8vYXBwLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2FwcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hcHAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYXBwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9hcHAvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9hcHAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9hcHAvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9hcHAvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vYXBwL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2FwcC93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwidmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mID8gKG9iaikgPT4gKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKSA6IChvYmopID0+IChvYmouX19wcm90b19fKTtcbnZhciBsZWFmUHJvdG90eXBlcztcbi8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLy8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLy8gbW9kZSAmIDE2OiByZXR1cm4gdmFsdWUgd2hlbiBpdCdzIFByb21pc2UtbGlrZVxuLy8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuX193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcblx0aWYobW9kZSAmIDEpIHZhbHVlID0gdGhpcyh2YWx1ZSk7XG5cdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG5cdGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUpIHtcblx0XHRpZigobW9kZSAmIDQpICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcblx0XHRpZigobW9kZSAmIDE2KSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHZhbHVlO1xuXHR9XG5cdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG5cdHZhciBkZWYgPSB7fTtcblx0bGVhZlByb3RvdHlwZXMgPSBsZWFmUHJvdG90eXBlcyB8fCBbbnVsbCwgZ2V0UHJvdG8oe30pLCBnZXRQcm90byhbXSksIGdldFByb3RvKGdldFByb3RvKV07XG5cdGZvcih2YXIgY3VycmVudCA9IG1vZGUgJiAyICYmIHZhbHVlOyB0eXBlb2YgY3VycmVudCA9PSAnb2JqZWN0JyAmJiAhfmxlYWZQcm90b3R5cGVzLmluZGV4T2YoY3VycmVudCk7IGN1cnJlbnQgPSBnZXRQcm90byhjdXJyZW50KSkge1xuXHRcdE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGN1cnJlbnQpLmZvckVhY2goKGtleSkgPT4gKGRlZltrZXldID0gKCkgPT4gKHZhbHVlW2tleV0pKSk7XG5cdH1cblx0ZGVmWydkZWZhdWx0J10gPSAoKSA9PiAodmFsdWUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGRlZik7XG5cdHJldHVybiBucztcbn07IiwiLy8gVGhpcyBvcHRpb25hbCBjb2RlIGlzIHVzZWQgdG8gcmVnaXN0ZXIgYSBzZXJ2aWNlIHdvcmtlci5cbi8vIHJlZ2lzdGVyKCkgaXMgbm90IGNhbGxlZCBieSBkZWZhdWx0LlxuXG4vLyBUaGlzIGxldHMgdGhlIGFwcCBsb2FkIGZhc3RlciBvbiBzdWJzZXF1ZW50IHZpc2l0cyBpbiBwcm9kdWN0aW9uLCBhbmQgZ2l2ZXNcbi8vIGl0IG9mZmxpbmUgY2FwYWJpbGl0aWVzLiBIb3dldmVyLCBpdCBhbHNvIG1lYW5zIHRoYXQgZGV2ZWxvcGVycyAoYW5kIHVzZXJzKVxuLy8gd2lsbCBvbmx5IHNlZSBkZXBsb3llZCB1cGRhdGVzIG9uIHN1YnNlcXVlbnQgdmlzaXRzIHRvIGEgcGFnZSwgYWZ0ZXIgYWxsIHRoZVxuLy8gZXhpc3RpbmcgdGFicyBvcGVuIG9uIHRoZSBwYWdlIGhhdmUgYmVlbiBjbG9zZWQsIHNpbmNlIHByZXZpb3VzbHkgY2FjaGVkXG4vLyByZXNvdXJjZXMgYXJlIHVwZGF0ZWQgaW4gdGhlIGJhY2tncm91bmQuXG5cbi8vIFRvIGxlYXJuIG1vcmUgYWJvdXQgdGhlIGJlbmVmaXRzIG9mIHRoaXMgbW9kZWwgYW5kIGluc3RydWN0aW9ucyBvbiBob3cgdG9cbi8vIG9wdC1pbiwgcmVhZCBodHRwczovL2JpdC5seS9DUkEtUFdBXG5cbmNvbnN0IGlzTG9jYWxob3N0ID0gQm9vbGVhbihcbiAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JyB8fFxuICAgIC8vIFs6OjFdIGlzIHRoZSBJUHY2IGxvY2FsaG9zdCBhZGRyZXNzLlxuICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ1s6OjFdJyB8fFxuICAgIC8vIDEyNy4wLjAuMC84IGFyZSBjb25zaWRlcmVkIGxvY2FsaG9zdCBmb3IgSVB2NC5cbiAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUubWF0Y2goXG4gICAgICAvXjEyNyg/OlxcLig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPykpezN9JC9cbiAgICApXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXIoY29uZmlnKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nICYmICdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICAvLyBUaGUgVVJMIGNvbnN0cnVjdG9yIGlzIGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IFNXLlxuICAgIGNvbnN0IHB1YmxpY1VybCA9IG5ldyBVUkwocHJvY2Vzcy5lbnYuUFVCTElDX1VSTCwgd2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgIGlmIChwdWJsaWNVcmwub3JpZ2luICE9PSB3aW5kb3cubG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAvLyBPdXIgc2VydmljZSB3b3JrZXIgd29uJ3Qgd29yayBpZiBQVUJMSUNfVVJMIGlzIG9uIGEgZGlmZmVyZW50IG9yaWdpblxuICAgICAgLy8gZnJvbSB3aGF0IG91ciBwYWdlIGlzIHNlcnZlZCBvbi4gVGhpcyBtaWdodCBoYXBwZW4gaWYgYSBDRE4gaXMgdXNlZCB0b1xuICAgICAgLy8gc2VydmUgYXNzZXRzOyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2NyZWF0ZS1yZWFjdC1hcHAvaXNzdWVzLzIzNzRcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHN3VXJsID0gYCR7cHJvY2Vzcy5lbnYuUFVCTElDX1VSTH0vc2VydmljZS13b3JrZXIuanNgO1xuXG4gICAgICBpZiAoaXNMb2NhbGhvc3QpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBydW5uaW5nIG9uIGxvY2FsaG9zdC4gTGV0J3MgY2hlY2sgaWYgYSBzZXJ2aWNlIHdvcmtlciBzdGlsbCBleGlzdHMgb3Igbm90LlxuICAgICAgICBjaGVja1ZhbGlkU2VydmljZVdvcmtlcihzd1VybCwgY29uZmlnKTtcblxuICAgICAgICAvLyBBZGQgc29tZSBhZGRpdGlvbmFsIGxvZ2dpbmcgdG8gbG9jYWxob3N0LCBwb2ludGluZyBkZXZlbG9wZXJzIHRvIHRoZVxuICAgICAgICAvLyBzZXJ2aWNlIHdvcmtlci9QV0EgZG9jdW1lbnRhdGlvbi5cbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHkudGhlbigoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAnVGhpcyB3ZWIgYXBwIGlzIGJlaW5nIHNlcnZlZCBjYWNoZS1maXJzdCBieSBhIHNlcnZpY2UgJyArXG4gICAgICAgICAgICAgICd3b3JrZXIuIFRvIGxlYXJuIG1vcmUsIHZpc2l0IGh0dHBzOi8vYml0Lmx5L0NSQS1QV0EnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJcyBub3QgbG9jYWxob3N0LiBKdXN0IHJlZ2lzdGVyIHNlcnZpY2Ugd29ya2VyXG4gICAgICAgIHJlZ2lzdGVyVmFsaWRTVyhzd1VybCwgY29uZmlnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWdpc3RlclZhbGlkU1coc3dVcmwsIGNvbmZpZykge1xuICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlclxuICAgIC5yZWdpc3Rlcihzd1VybClcbiAgICAudGhlbihyZWdpc3RyYXRpb24gPT4ge1xuICAgICAgcmVnaXN0cmF0aW9uLm9udXBkYXRlZm91bmQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGluc3RhbGxpbmdXb3JrZXIgPSByZWdpc3RyYXRpb24uaW5zdGFsbGluZztcbiAgICAgICAgaWYgKGluc3RhbGxpbmdXb3JrZXIgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YWxsaW5nV29ya2VyLm9uc3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKGluc3RhbGxpbmdXb3JrZXIuc3RhdGUgPT09ICdpbnN0YWxsZWQnKSB7XG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB0aGUgdXBkYXRlZCBwcmVjYWNoZWQgY29udGVudCBoYXMgYmVlbiBmZXRjaGVkLFxuICAgICAgICAgICAgICAvLyBidXQgdGhlIHByZXZpb3VzIHNlcnZpY2Ugd29ya2VyIHdpbGwgc3RpbGwgc2VydmUgdGhlIG9sZGVyXG4gICAgICAgICAgICAgIC8vIGNvbnRlbnQgdW50aWwgYWxsIGNsaWVudCB0YWJzIGFyZSBjbG9zZWQuXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgICdOZXcgY29udGVudCBpcyBhdmFpbGFibGUgYW5kIHdpbGwgYmUgdXNlZCB3aGVuIGFsbCAnICtcbiAgICAgICAgICAgICAgICAgICd0YWJzIGZvciB0aGlzIHBhZ2UgYXJlIGNsb3NlZC4gU2VlIGh0dHBzOi8vYml0Lmx5L0NSQS1QV0EuJ1xuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIC8vIEV4ZWN1dGUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcub25VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25maWcub25VcGRhdGUocmVnaXN0cmF0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgZXZlcnl0aGluZyBoYXMgYmVlbiBwcmVjYWNoZWQuXG4gICAgICAgICAgICAgIC8vIEl0J3MgdGhlIHBlcmZlY3QgdGltZSB0byBkaXNwbGF5IGFcbiAgICAgICAgICAgICAgLy8gXCJDb250ZW50IGlzIGNhY2hlZCBmb3Igb2ZmbGluZSB1c2UuXCIgbWVzc2FnZS5cbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbnRlbnQgaXMgY2FjaGVkIGZvciBvZmZsaW5lIHVzZS4nKTtcblxuICAgICAgICAgICAgICAvLyBFeGVjdXRlIGNhbGxiYWNrXG4gICAgICAgICAgICAgIGlmIChjb25maWcgJiYgY29uZmlnLm9uU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5vblN1Y2Nlc3MocmVnaXN0cmF0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbjonLCBlcnJvcik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrVmFsaWRTZXJ2aWNlV29ya2VyKHN3VXJsLCBjb25maWcpIHtcbiAgLy8gQ2hlY2sgaWYgdGhlIHNlcnZpY2Ugd29ya2VyIGNhbiBiZSBmb3VuZC4gSWYgaXQgY2FuJ3QgcmVsb2FkIHRoZSBwYWdlLlxuICBmZXRjaChzd1VybCwge1xuICAgIGhlYWRlcnM6IHsgJ1NlcnZpY2UtV29ya2VyJzogJ3NjcmlwdCcgfVxuICB9KVxuICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgIC8vIEVuc3VyZSBzZXJ2aWNlIHdvcmtlciBleGlzdHMsIGFuZCB0aGF0IHdlIHJlYWxseSBhcmUgZ2V0dGluZyBhIEpTIGZpbGUuXG4gICAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICAgIGlmIChcbiAgICAgICAgcmVzcG9uc2Uuc3RhdHVzID09PSA0MDQgfHxcbiAgICAgICAgKGNvbnRlbnRUeXBlICE9IG51bGwgJiYgY29udGVudFR5cGUuaW5kZXhPZignamF2YXNjcmlwdCcpID09PSAtMSlcbiAgICAgICkge1xuICAgICAgICAvLyBObyBzZXJ2aWNlIHdvcmtlciBmb3VuZC4gUHJvYmFibHkgYSBkaWZmZXJlbnQgYXBwLiBSZWxvYWQgdGhlIHBhZ2UuXG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5LnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgICAgICByZWdpc3RyYXRpb24udW5yZWdpc3RlcigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFNlcnZpY2Ugd29ya2VyIGZvdW5kLiBQcm9jZWVkIGFzIG5vcm1hbC5cbiAgICAgICAgcmVnaXN0ZXJWYWxpZFNXKHN3VXJsLCBjb25maWcpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLmNhdGNoKCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAnTm8gaW50ZXJuZXQgY29ubmVjdGlvbiBmb3VuZC4gQXBwIGlzIHJ1bm5pbmcgaW4gb2ZmbGluZSBtb2RlLidcbiAgICAgICk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bnJlZ2lzdGVyKCkge1xuICBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5LnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcbiAgICAgIHJlZ2lzdHJhdGlvbi51bnJlZ2lzdGVyKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGdyZXkgfSBmcm9tICdAbXVpL21hdGVyaWFsL2NvbG9ycyc7XHJcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICd0c3MtcmVhY3QvbXVpJztcclxuXHJcbmNvbnN0IHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoKSgodGhlbWUpID0+ICh7XHJcbiAgcm9vdDoge1xyXG4gICAgaGVpZ2h0OiAnMTAwdmgnLFxyXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXHJcbiAgfSxcclxuICByb3c6IHtcclxuICAgIGRpc3BsYXk6ICdmbGV4JyxcclxuICB9LFxyXG4gIGNvbDoge1xyXG4gICAgbWFyZ2luOiA1LFxyXG4gICAgLy8gcGFkZGluZzogMTAsXHJcbiAgICBib3JkZXI6ICcxcHggc29saWQgYmxhY2snLFxyXG4gIH0sXHJcbiAgZHJvcHpvbmU6IHtcclxuICAgIGJhY2tncm91bmQ6IGdyZXlbOTAwXSxcclxuICAgIGhlaWdodDogMTkwLFxyXG4gICAgd2lkdGg6IDE5MCxcclxuICAgIGRpc3BsYXk6ICdncmlkJyxcclxuICAgIGdhcDogNSxcclxuICAgIGdyaWRBdXRvUm93czogJ21pbm1heCgxMDBweCwgYXV0byknLFxyXG4gIH0sXHJcbiAgdGhpbmdzOiB7XHJcbiAgICBkaXNwbGF5OiAnZmxleCcsXHJcbiAgICBmbGV4V3JhcDogJ3dyYXAnLFxyXG4gICAgJyYgZGl2IConOiB7XHJcbiAgICAgIGhlaWdodDogMTAwLFxyXG4gICAgICB3aWR0aDogMTAwLFxyXG4gICAgICBtYXJnaW46IDUsXHJcbiAgICB9XHJcbiAgfSxcclxuICB0aGluZzoge1xyXG4gICAgd2lkdGg6ICcxMDAlJyxcclxuICAgIGhlaWdodDogJzEwMCUnLFxyXG4gICAgbWluSGVpZ2h0OiAzMCxcclxuICAgIG1pbldpZHRoOiAzMCxcclxuICAgIC8vIGJvcmRlclJhZGl1czogJzUwJScsXHJcbiAgICAvLyBiYWNrZ3JvdW5kOiAnYmx1ZScsXHJcbiAgICBmb250V2VpZ2h0OiA3MDAsXHJcbiAgICAvLyBjb2xvcjogJ3doaXRlJyxcclxuICAgIGJhY2tncm91bmRTaXplOiAnY292ZXInLFxyXG4gICAgZGlzcGxheTogJ2ZsZXgnLFxyXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxyXG4gICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXHJcbiAgfVxyXG59KSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VTdHlsZXM7IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSBcInRzcy1yZWFjdC9tdWlcIjtcclxuaW1wb3J0IHsgdXNlRHJhZyB9IGZyb20gJ3JlYWN0LWRuZCdcclxuXHJcbmNvbnN0IHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoKSgodGhlbWUsIHsgaXNEcmFnZ2luZyB9KSA9PiAoe1xyXG4gIHJvb3Q6IHtcclxuICAgIGN1cnNvcjogaXNEcmFnZ2luZyA/ICdncmFiYmluZyAhaW1wb3J0YW50JyA6ICdncmFiJyxcclxuICB9XHJcbn0pKVxyXG5cclxuY29uc3QgRHJhZ2dhYmxlID0gKHByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBjaGlsZHJlbiwgdHlwZSwgaWQgfSA9IHByb3BzO1xyXG4gIGNvbnN0IFt7IGlzRHJhZ2dpbmcgfSwgZHJhZ10gPSB1c2VEcmFnKCgpID0+ICh7XHJcbiAgICB0eXBlOiBcIkRyYWdnYWJsZVwiIHx8IHR5cGUsXHJcbiAgICBpdGVtOiB7IGlkIH0sXHJcbiAgICBjb2xsZWN0OiBtb25pdG9yID0+ICh7XHJcbiAgICAgIGlzRHJhZ2dpbmc6ICEhbW9uaXRvci5pc0RyYWdnaW5nKCksXHJcbiAgICB9KSxcclxuICB9KSk7XHJcbiAgY29uc3QgeyBjbGFzc2VzIH0gPSB1c2VTdHlsZXMoeyBpc0RyYWdnaW5nIH0pO1xyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IFxyXG4gICAgICBjbGFzc05hbWU9e2NsYXNzZXMucm9vdH1cclxuICAgICAgcmVmPXtkcmFnfSBcclxuICAgID5cclxuICAgICAge2NoaWxkcmVufVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJhZ2dhYmxlOyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gXCJ0c3MtcmVhY3QvbXVpXCI7XHJcbmltcG9ydCB7IHVzZURyb3AgfSBmcm9tICdyZWFjdC1kbmQnXHJcblxyXG5jb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKCkoKHRoZW1lLCB7IGlzT3ZlciB9KSA9PiAoe1xyXG4gIHJvb3Q6IHtcclxuICAgIGJhY2tncm91bmQ6IGlzT3ZlciA/ICdyZWQnIDogJ3doaXRlJyxcclxuICB9XHJcbn0pKVxyXG5cclxuY29uc3QgRHJvcHBhYmxlID0gKHByb3BzKSA9PiB7XHJcbiAgY29uc3QgeyBjaGlsZHJlbiwgYWNjZXB0LCBvbkRyb3AgfSA9IHByb3BzO1xyXG4gIGNvbnN0IFt7IGNhbkRyb3AsIGlzT3ZlciB9LCBkcm9wXSA9IHVzZURyb3AoKCkgPT4gKHtcclxuICAgIGFjY2VwdDogXCJEcmFnZ2FibGVcIiB8fCBhY2NlcHQsXHJcbiAgICBjb2xsZWN0OiBtb25pdG9yID0+ICh7XHJcbiAgICAgIGlzT3ZlcjogbW9uaXRvci5pc092ZXIoKSxcclxuICAgICAgY2FuRHJvcDogbW9uaXRvci5jYW5Ecm9wKClcclxuICAgIH0pLFxyXG4gICAgZHJvcDogb25Ecm9wXHJcbiAgfSkpO1xyXG4gIGNvbnN0IHsgY2xhc3NlcyB9ID0gdXNlU3R5bGVzKHsgaXNPdmVyLCBjYW5Ecm9wIH0pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBcclxuICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnJvb3R9XHJcbiAgICAgIHJlZj17ZHJvcH1cclxuICAgICAgcm9sZT17J0R1c3RiaW4nfSBcclxuICAgID5cclxuICAgICAge2NoaWxkcmVufVxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRHJvcHBhYmxlOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIzMDZmOTQ1ZDdlMGFkMjM3NWJkMDA1OWJiNWRiY2E2Yy5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjhhODdhODU3NTM3NDE5ODNjZTE3Mzg2MDIxNTI3YmIuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImJmNTNjYjliMzkxOTkxNGE3Y2MxOGYwMWI1ZDQ4ZjdiLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmMTc3M2VmNmY0Yzc2NTYwOWZjMzU5MzkwZDg0Y2M1Ni5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNzYxMzk5N2Y5ZDljODM0MjUzMzBlMmJlMDcyNmI0MzYuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjg3YmRlZjBhNGNjNmEzMzFhYWI4ODI2ODdhMzFhZjBlLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhNzUzODkxZThlMTYxNjcxMjM5ODg2MWU3OGJkNmY3OS5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMTAxNjI1NWI2M2MwODllNzhiNjlhYjdhNjIyMzQyM2EuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjk1ZWJlYTNlNWZiNmQ4ZmE1MGNhZWMwM2RmZDRiMmUzLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIxOWExM2Y5ODE4YzY2ZTMxNWIyYjNiMjllMjQ5NTE4YS5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYzg2NTg4OTdjZTNjNThiYmIyZTZhNjk0NTRlN2Y0NzQuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjI5NzdmNDhmMThlY2Q0YTc2MTQ3YjNmN2EyZDg4ZTEzLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI1MjZkMjBkNDMwNzcxMGU4MWI0YWZjMzk0NzM4ZjQ0YS5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYmMzYzg3MGM3ODM5ZTI2MjhjZjYzYWZiZTc4NDM0NTIuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImRjMjIzZWY3M2M1N2I5NTQxZGVhMTVjNmMxZDE3YzA3LmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJkYzAzNzg5NGU2ZDY1MDhlYTY2YWU0MDFhZTgxZGVlYS5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYjA4MDdmYWQ4NWMxNDhhY2NkNzE3OTY1ODZkOTQ4MWEuanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImI5MGUyZDM3YjU5OTM3NWVkYWFjMzBjMjE1MzZlNmYwLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJiNzYyOWI2OTY3ODIxMjc1NzMyYmJiMzYwOWU0N2RjMS5qcGdcIjsiLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiODFiY2YxMWNlYjc4ZjRmYWNmOTlkODk4ZDk3OWZkNDguanBnXCI7IiwiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImNjN2NkODVjMWM2OWMxYjliMGM2OWQ5NWQ5MTdjZmQxLmpwZ1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJkNTMxNTI2YmZjNjg5Zjg2NWEzNDRkMTBkOTljNGEwNi5qcGdcIjsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgdXNlU3R5bGVzIGZyb20gJy4vc3R5bGVzJztcclxuaW1wb3J0IERyYWdnYWJsZSBmcm9tICdjb21wb25lbnRzL0RyYWdnYWJsZSc7XHJcbmltcG9ydCBEcm9wcGFibGUgZnJvbSAnY29tcG9uZW50cy9Ecm9wcGFibGUnO1xyXG5cclxuLy8gaW1wb3J0IGFyYWdvcm4gZnJvbSAnYXNzZXRzL2FyYWdvcm4uanBnJztcclxuLy8gaW1wb3J0IGJvcm9taXIgZnJvbSAnYXNzZXRzL2Jvcm9taXIucG5nJztcclxuLy8gaW1wb3J0IGxlZ29sYXMgZnJvbSAnYXNzZXRzL2xlZ29sYXMuanBnJztcclxuLy8gaW1wb3J0IGdhbmRhbGYgZnJvbSAnYXNzZXRzL2dhbmRhbGYuanBnJztcclxuLy8gaW1wb3J0IGdpbWxpIGZyb20gJ2Fzc2V0cy9naW1saS5qcGcnO1xyXG4vLyBpbXBvcnQgZnJvZG8gZnJvbSAnYXNzZXRzL2Zyb2RvLmpwZyc7XHJcbi8vIGltcG9ydCBzYW0gZnJvbSAnYXNzZXRzL3NhbS5wbmcnO1xyXG4vLyBpbXBvcnQgbWVycnkgZnJvbSAnYXNzZXRzL21lcnJ5LmpwZyc7XHJcbi8vIGltcG9ydCBwaXBwaW4gZnJvbSAnYXNzZXRzL3BpcHBpbi5qcGcnO1xyXG5cclxuLy8gaW1wb3J0IGFubmFiZXRoIGZyb20gJ2Fzc2V0cy9wam8vQW5uYWJldGgtQ2hhc2VfMjU2eDI1Ni5qcGcnO1xyXG4vLyBpbXBvcnQgYXBocm9kaXRlIGZyb20gJ2Fzc2V0cy9wam8vQXBocm9kaXRlXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IGFyZXMgZnJvbSAnYXNzZXRzL3Bqby9BcmVzXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IGF0aGVuYSBmcm9tICdhc3NldHMvcGpvL0F0aGVuYV8yNTZ4MjU2LmpwZyc7XHJcbi8vIGltcG9ydCBiaWFuY2EgZnJvbSAnYXNzZXRzL3Bqby9CaWFuY2EtZGktQW5nZWxvXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IGNhbHlwc28gZnJvbSAnYXNzZXRzL3Bqby9DYWx5cHNvXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IGJlY2tlbmRvcmYgZnJvbSAnYXNzZXRzL3Bqby9DaGFybGVzLUJlY2tlbmRvcmZfMjU2eDI1Ni5qcGcnO1xyXG4vLyBpbXBvcnQgY2hpcm9uIGZyb20gJ2Fzc2V0cy9wam8vQ2hpcm9uXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IGNsYXJpc3NlIGZyb20gJ2Fzc2V0cy9wam8vQ2xhcmlzc2UtTGEtUnVlXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IGRlbWV0ZXIgZnJvbSAnYXNzZXRzL3Bqby9EZW1ldGVyXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IGV0aGFuIGZyb20gJ2Fzc2V0cy9wam8vRXRoYW4tTmFrYW11cmFfMjU2eDI1Ni5qcGcnO1xyXG4vLyBpbXBvcnQgZ3JvdmVyIGZyb20gJ2Fzc2V0cy9wam8vR3JvdmVyLVVuZGVyd29vZF8yNTZ4MjU2LmpwZyc7XHJcbi8vIGltcG9ydCBoZXBoYWVzdHVzIGZyb20gJ2Fzc2V0cy9wam8vSGVwaGFlc3R1c18yNTZ4MjU2LmpwZyc7XHJcbi8vIGltcG9ydCBoZXJhIGZyb20gJ2Fzc2V0cy9wam8vSGVyYV8yNTZ4MjU2LmpwZyc7XHJcbi8vIGltcG9ydCBqdW5pcGVyIGZyb20gJ2Fzc2V0cy9wam8vSnVuaXBlcl8yNTZ4MjU2LmpwZyc7XHJcbi8vIGltcG9ydCBsdWtlIGZyb20gJ2Fzc2V0cy9wam8vTHVrZS1DYXN0ZWxsYW5fMjU2eDI1Ni5qcGcnO1xyXG4vLyBpbXBvcnQgbmljbyBmcm9tICdhc3NldHMvcGpvL05pY28tZGktQW5nZWxvXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IHBlcmN5IGZyb20gJ2Fzc2V0cy9wam8vUGVyY3ktSmFja3Nvbl8yNTZ4MjU2LmpwZyc7XHJcbi8vIGltcG9ydCBwb3NlaWRvbiBmcm9tICdhc3NldHMvcGpvL1Bvc2VpZG9uXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IHJhY2hlbCBmcm9tICdhc3NldHMvcGpvL1JhY2hlbC1EYXJlXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IHNlbGVuYSBmcm9tICdhc3NldHMvcGpvL1NlbGVuYS1CZWF1cmVnYXJkXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IHN0b2xscyBmcm9tICdhc3NldHMvcGpvL1N0b2xsLWJyb3RoZXJzXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IHRoYWxpYSBmcm9tICdhc3NldHMvcGpvL1RoYWxpYS1HcmFjZV8yNTZ4MjU2LmpwZyc7XHJcbi8vIGltcG9ydCB0eXNvbiBmcm9tICdhc3NldHMvcGpvL1R5c29uXzI1NngyNTYuanBnJztcclxuLy8gaW1wb3J0IHdpbGwgZnJvbSAnYXNzZXRzL3Bqby9XaWxsLVNvbGFjZV8yNTZ4MjU2LmpwZyc7XHJcbi8vIGltcG9ydCB6b2UgZnJvbSAnYXNzZXRzL3Bqby9ab2UtTmlnaHRzaGFkZV8yNTZ4MjU2LmpwZyc7XHJcblxyXG5pbXBvcnQgYmFjb24gZnJvbSAnYXNzZXRzL2JyZWFrZmFzdC9iYWNvbl8yNTZ4MjU2LmpwZyc7XHJcbmltcG9ydCBiYWdlbCBmcm9tICdhc3NldHMvYnJlYWtmYXN0L2JhZ2VsXzI1NngyNTYuanBnJztcclxuaW1wb3J0IGJyZWFrZmFzdEJ1cnJpdG8gZnJvbSAnYXNzZXRzL2JyZWFrZmFzdC9icmVha2Zhc3QtYnVycml0b18yNTZ4MjU2LmpwZyc7XHJcbmltcG9ydCBicmVha2Zhc3RTYW5kd2ljaCBmcm9tICdhc3NldHMvYnJlYWtmYXN0L2JyZWFrZmFzdC1zYW5kd2ljaF8yNTZ4MjU2LmpwZyc7XHJcbmltcG9ydCBjZXJlYWwgZnJvbSAnYXNzZXRzL2JyZWFrZmFzdC9jZXJlYWxfMjU2eDI1Ni5qcGcnO1xyXG5pbXBvcnQgY2lubmFtb25Sb2xscyBmcm9tICdhc3NldHMvYnJlYWtmYXN0L2Npbm5hbW9uLXJvbGxzXzI1NngyNTYuanBnJztcclxuaW1wb3J0IGNyZXBlcyBmcm9tICdhc3NldHMvYnJlYWtmYXN0L2NyZXBlc18yNTZ4MjU2LmpwZyc7XHJcbmltcG9ydCBjcm9pc3NhbnQgZnJvbSAnYXNzZXRzL2JyZWFrZmFzdC9jcm9pc3NhbnRfMjU2eDI1Ni5qcGcnO1xyXG5pbXBvcnQgZG9udXRzIGZyb20gJ2Fzc2V0cy9icmVha2Zhc3QvZG9udXRzXzI1NngyNTYuanBnJztcclxuaW1wb3J0IGZyZW5jaFRvYXN0IGZyb20gJ2Fzc2V0cy9icmVha2Zhc3QvZnJlbmNoLXRvYXN0XzI1NngyNTYuanBnJztcclxuaW1wb3J0IGZyaWVkRWdnIGZyb20gJ2Fzc2V0cy9icmVha2Zhc3QvZnJpZWQtZWdnXzI1NngyNTYuanBnJztcclxuaW1wb3J0IGZyaXR0YXRhIGZyb20gJ2Fzc2V0cy9icmVha2Zhc3QvZnJpdHRhdGFfMjU2eDI1Ni5qcGcnO1xyXG5pbXBvcnQgZnJ1aXRTYWxhZCBmcm9tICdhc3NldHMvYnJlYWtmYXN0L2ZydWl0LXNhbGFkXzI1NngyNTYuanBnJztcclxuaW1wb3J0IGhhc2hicm93bnMgZnJvbSAnYXNzZXRzL2JyZWFrZmFzdC9oYXNoYnJvd25zXzI1NngyNTYuanBnJztcclxuaW1wb3J0IG9tZWxldHRlIGZyb20gJ2Fzc2V0cy9icmVha2Zhc3Qvb21lbGV0dGVfMjU2eDI1Ni5qcGcnO1xyXG5pbXBvcnQgb2F0bWVhbCBmcm9tICdhc3NldHMvYnJlYWtmYXN0L29hdG1lYWxfMjU2eDI1Ni5qcGcnO1xyXG5pbXBvcnQgcGFuY2FrZXMgZnJvbSAnYXNzZXRzL2JyZWFrZmFzdC9wYW5jYWtlc18yNTZ4MjU2LmpwZyc7XHJcbmltcG9ydCBzYXVzYWdlIGZyb20gJ2Fzc2V0cy9icmVha2Zhc3Qvc2F1c2FnZV8yNTZ4MjU2LmpwZyc7XHJcbmltcG9ydCBzY3JhbWJsZWRFZ2dzIGZyb20gJ2Fzc2V0cy9icmVha2Zhc3Qvc2NyYW1ibGVkLWVnZ3NfMjU2eDI1Ni5qcGcnO1xyXG5pbXBvcnQgc21vb3RoaWUgZnJvbSAnYXNzZXRzL2JyZWFrZmFzdC9zbW9vdGhpZV8yNTZ4MjU2LmpwZyc7XHJcbmltcG9ydCB0b2FzdCBmcm9tICdhc3NldHMvYnJlYWtmYXN0L3RvYXN0XzI1NngyNTYuanBnJztcclxuaW1wb3J0IHdhZmZsZXMgZnJvbSAnYXNzZXRzL2JyZWFrZmFzdC93YWZmbGVzXzI1NngyNTYuanBnJztcclxuXHJcblxyXG5jb25zdCByb3dzID0gWydHb29kJywgJ05ldXRyYWwnLCAnRXZpbCddO1xyXG5jb25zdCBjb2x1bW5zID0gWydMYXdmdWwnLCAnTmV1dHJhbCcsICdDaGFvdGljJ107XHJcbi8vIGNvbnN0IHBpY3MgPSBbYXJhZ29ybiwgYm9yb21pciwgbGVnb2xhcywgZ2FuZGFsZiwgZ2ltbGksIGZyb2RvLCBzYW0sIG1lcnJ5LCBwaXBwaW5dXHJcbi8vIGNvbnN0IHBpY3MgPSBbYW5uYWJldGgsIGFwaHJvZGl0ZSwgYXJlcywgYXRoZW5hLCBiaWFuY2EsIGNhbHlwc28sIGJlY2tlbmRvcmYsIGNoaXJvbiwgY2xhcmlzc2UsIGRlbWV0ZXIsIGV0aGFuLCBncm92ZXIsIGhlcGhhZXN0dXMsIGhlcmEsIGp1bmlwZXIsIGx1a2UsIG5pY28sIHBlcmN5LCBwb3NlaWRvbiwgcmFjaGVsLCBzZWxlbmEsIHN0b2xscywgdGhhbGlhLCB0eXNvbiwgd2lsbCwgem9lXTtcclxuY29uc3QgcGljcyA9IFtiYWNvbiwgYmFnZWwsIGJyZWFrZmFzdEJ1cnJpdG8sIGJyZWFrZmFzdFNhbmR3aWNoLCBjZXJlYWwsIGNpbm5hbW9uUm9sbHMsIGNyZXBlcywgY3JvaXNzYW50LCBkb251dHMsIGZyZW5jaFRvYXN0LCBmcmllZEVnZywgZnJpdHRhdGEsIGZydWl0U2FsYWQsIGhhc2hicm93bnMsIG9tZWxldHRlLCBvYXRtZWFsLCBwYW5jYWtlcywgc2F1c2FnZSwgc2NyYW1ibGVkRWdncywgc21vb3RoaWUsIHRvYXN0LCB3YWZmbGVzXTtcclxuXHJcblxyXG5cclxuZnVuY3Rpb24gQXBwKCkge1xyXG5cclxuICBjb25zdCB7IGNsYXNzZXMgfSA9IHVzZVN0eWxlcygpO1xyXG4gIFxyXG4gIGNvbnN0IFt0aGluZ3MsIHNldFRoaW5nc10gPSBSZWFjdC51c2VTdGF0ZShwaWNzKTtcclxuICBjb25zdCBbc3RhdGUsIHNldFN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcclxuICBjb25zdCBvbkRyb3AgPSAoa2V5LCBpdGVtKSA9PiB7XHJcbiAgICBzZXRTdGF0ZShfc3RhdGUgPT4gKHtcclxuICAgICAgLi4uX3N0YXRlLFxyXG4gICAgICBbaXRlbS5pZF06IGtleVxyXG4gICAgfSkpO1xyXG4gICAgc2V0VGhpbmdzKF90aGluZ3MgPT4gKF90aGluZ3MuZmlsdGVyKHQgPT4gdCAhPT0gaXRlbS5pZCkpKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5yb290fT5cclxuICAgICAge3Jvd3MubWFwKHJvdyA9PiA8ZGl2IGtleT17cm93fSBjbGFzc05hbWU9e2NsYXNzZXMucm93fT5cclxuICAgICAgICB7Y29sdW1ucy5tYXAoY29sID0+IHtcclxuICAgICAgICAgIGNvbnN0IGFyciA9IHBpY3MuZmlsdGVyKHAgPT4gc3RhdGVbcF0gPT09IGAke3Jvd30ke2NvbH1gKTtcclxuICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxEcm9wcGFibGUga2V5PXtgJHtyb3d9JHtjb2x9YH0gb25Ecm9wPXsoaXRlbSwgbW9uaXRvcikgPT4gb25Ecm9wKGAke3Jvd30ke2NvbH1gLCBpdGVtKX0+XHJcbiAgICAgICAgICAgICAgPGRpdj57Y29sfSB7cm93fTwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmNvbH0+ICBcclxuICAgICAgICAgICAgICAgIDxkaXYgXHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5kcm9wem9uZX1cclxuICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBncmlkVGVtcGxhdGVDb2x1bW5zOiBgcmVwZWF0KCR7TWF0aC5jZWlsKE1hdGguc3FydChhcnIubGVuZ3RoKSl9LCAxZnIpYCxcclxuICAgICAgICAgICAgICAgICAgICBncmlkVGVtcGxhdGVSb3dzOiBgcmVwZWF0KCR7TWF0aC5jZWlsKE1hdGguc3FydChhcnIubGVuZ3RoKSl9LCAxZnIpYCxcclxuICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge2Fyci5tYXAocGljID0+IFxyXG4gICAgICAgICAgICAgICAgICAgIDxEcmFnZ2FibGUgaWQ9e3BpY30ga2V5PXtwaWN9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMudGhpbmd9IHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybCgke3BpY30pYH19Lz5cclxuICAgICAgICAgICAgICAgICAgICA8L0RyYWdnYWJsZT5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L0Ryb3BwYWJsZT5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgKX0gIFxyXG4gICAgICA8L2Rpdj4pfVxyXG4gICAgICAgIDxEcm9wcGFibGUga2V5PXtgcG9vbGB9IG9uRHJvcD17KGl0ZW0sIG1vbml0b3IpID0+IG9uRHJvcCh1bmRlZmluZWQsIGl0ZW0pfT5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnRoaW5nc30+XHJcbiAgICAgICAgICAgIHtwaWNzLmZpbHRlcihwID0+ICFzdGF0ZVtwXSkubWFwKHRoaW5nID0+XHJcbiAgICAgICAgICAgICAgPERyYWdnYWJsZSBpZD17dGhpbmd9IGtleT17dGhpbmd9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMudGhpbmd9IHN0eWxlPXt7IGJhY2tncm91bmRJbWFnZTogYHVybCgke3RoaW5nfSlgfX0vPlxyXG4gICAgICAgICAgICAgIDwvRHJhZ2dhYmxlPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+ICAgXHJcbiAgICAgICAgPC9Ecm9wcGFibGU+XHJcbiAgICAgIDwvZGl2PiBcclxuICApO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQXBwOyIsImltcG9ydCBBcHAgZnJvbSAnLi9hcHAnO1xyXG5leHBvcnQgZGVmYXVsdCBBcHA7IiwiaW1wb3J0IHsgY3JlYXRlVGhlbWUgfSBmcm9tIFwiQG11aS9zeXN0ZW1cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVRoZW1lKHtcclxuICBcclxufSkiLCIvKipcclxuICogQG1vZHVsZSBNYWluXHJcbiAqL1xyXG5cclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSdcclxuXHJcbmltcG9ydCB7IENhY2hlUHJvdmlkZXIgfSBmcm9tIFwiQGVtb3Rpb24vcmVhY3RcIjtcclxuaW1wb3J0IGNyZWF0ZUNhY2hlIGZyb20gXCJAZW1vdGlvbi9jYWNoZVwiO1xyXG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyIH0gZnJvbSBcIkBtdWkvbWF0ZXJpYWwvc3R5bGVzXCI7XHJcbmltcG9ydCB7IEhUTUw1QmFja2VuZCB9IGZyb20gJ3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kJ1xyXG5pbXBvcnQgeyBEbmRQcm92aWRlciB9IGZyb20gJ3JlYWN0LWRuZCdcclxuXHJcbmltcG9ydCAqIGFzIHNlcnZpY2VXb3JrZXIgZnJvbSAnLi9zZXJ2aWNlV29ya2VyJztcclxuXHJcbmltcG9ydCBBcHAgZnJvbSAnLi9jb250YWluZXJzL0FwcCc7XHJcbmltcG9ydCB0aGVtZSBmcm9tICcuL3RoZW1lJztcclxuXHJcbmV4cG9ydCBjb25zdCBtdWlDYWNoZSA9IGNyZWF0ZUNhY2hlKHtcclxuICBcImtleVwiOiBcIm11aVwiLFxyXG4gIFwicHJlcGVuZFwiOiB0cnVlXHJcbn0pO1xyXG5cclxuUmVhY3RET00ucmVuZGVyKFxyXG4gIDxDYWNoZVByb3ZpZGVyIHZhbHVlPXttdWlDYWNoZX0+XHJcbiAgICA8VGhlbWVQcm92aWRlciB0aGVtZT17dGhlbWV9PlxyXG4gICAgICA8RG5kUHJvdmlkZXIgYmFja2VuZD17SFRNTDVCYWNrZW5kfT5cclxuICAgICAgICA8QXBwIC8+XHJcbiAgICAgIDwvRG5kUHJvdmlkZXI+XHJcbiAgICA8L1RoZW1lUHJvdmlkZXI+XHJcbiAgPC9DYWNoZVByb3ZpZGVyPixcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncm9vdCcpXHJcbik7XHJcblxyXG5pZiAobW9kdWxlLmhvdCkge1xyXG4gIG1vZHVsZS5ob3QuYWNjZXB0KCcuL2NvbnRhaW5lcnMvQXBwJyk7XHJcbn1cclxuXHJcbnNlcnZpY2VXb3JrZXIudW5yZWdpc3RlcigpO1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmthcHBcIl0gPSBzZWxmW1wid2VicGFja0NodW5rYXBwXCJdIHx8IFtdO1xuY2h1bmtMb2FkaW5nR2xvYmFsLmZvckVhY2god2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCAwKSk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpKTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGRlcGVuZHMgb24gb3RoZXIgbG9hZGVkIGNodW5rcyBhbmQgZXhlY3V0aW9uIG5lZWQgdG8gYmUgZGVsYXllZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbMjE2XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oMjI1MykpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsImxlYWZQcm90b3R5cGVzIiwiZ2V0UHJvdG8iLCJCb29sZWFuIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsIm1hdGNoIiwibWFrZVN0eWxlcyIsInRoZW1lIiwicm9vdCIsImhlaWdodCIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwicm93IiwiY29sIiwibWFyZ2luIiwiYm9yZGVyIiwiZHJvcHpvbmUiLCJiYWNrZ3JvdW5kIiwiZ3JleSIsIndpZHRoIiwiZ2FwIiwiZ3JpZEF1dG9Sb3dzIiwidGhpbmdzIiwiZmxleFdyYXAiLCJ0aGluZyIsIm1pbkhlaWdodCIsIm1pbldpZHRoIiwiZm9udFdlaWdodCIsImJhY2tncm91bmRTaXplIiwianVzdGlmeUNvbnRlbnQiLCJhbGlnbkl0ZW1zIiwidXNlU3R5bGVzIiwiY3Vyc29yIiwiaXNEcmFnZ2luZyIsInByb3BzIiwiY2hpbGRyZW4iLCJpZCIsInR5cGUiLCJ1c2VEcmFnIiwiaXRlbSIsImNvbGxlY3QiLCJtb25pdG9yIiwiZHJhZyIsImNsYXNzZXMiLCJjbGFzc05hbWUiLCJyZWYiLCJpc092ZXIiLCJvbkRyb3AiLCJhY2NlcHQiLCJ1c2VEcm9wIiwiY2FuRHJvcCIsImRyb3AiLCJyb2xlIiwicm93cyIsImNvbHVtbnMiLCJwaWNzIiwiYmFjb24iLCJiYWdlbCIsImJyZWFrZmFzdEJ1cnJpdG8iLCJicmVha2Zhc3RTYW5kd2ljaCIsImNlcmVhbCIsImNpbm5hbW9uUm9sbHMiLCJjcmVwZXMiLCJjcm9pc3NhbnQiLCJkb251dHMiLCJmcmVuY2hUb2FzdCIsImZyaWVkRWdnIiwiZnJpdHRhdGEiLCJmcnVpdFNhbGFkIiwiaGFzaGJyb3ducyIsIm9tZWxldHRlIiwib2F0bWVhbCIsInBhbmNha2VzIiwic2F1c2FnZSIsInNjcmFtYmxlZEVnZ3MiLCJzbW9vdGhpZSIsInRvYXN0Iiwid2FmZmxlcyIsIlJlYWN0Iiwic2V0VGhpbmdzIiwic3RhdGUiLCJzZXRTdGF0ZSIsImtleSIsIl9zdGF0ZSIsIl90aGluZ3MiLCJmaWx0ZXIiLCJ0IiwibWFwIiwiYXJyIiwicCIsInN0eWxlIiwiZ3JpZFRlbXBsYXRlQ29sdW1ucyIsIk1hdGgiLCJjZWlsIiwic3FydCIsImxlbmd0aCIsImdyaWRUZW1wbGF0ZVJvd3MiLCJwaWMiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJ1bmRlZmluZWQiLCJjcmVhdGVUaGVtZSIsIm11aUNhY2hlIiwiY3JlYXRlQ2FjaGUiLCJSZWFjdERPTSIsIkMiLCJ2YWx1ZSIsIlRoZW1lUHJvdmlkZXIiLCJEbmRQcm92aWRlciIsImJhY2tlbmQiLCJIVE1MNUJhY2tlbmQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibmF2aWdhdG9yIiwic2VydmljZVdvcmtlciIsInJlYWR5IiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsInVucmVnaXN0ZXIiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJtIiwiTyIsInJlc3VsdCIsImNodW5rSWRzIiwiZm4iLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiaSIsImZ1bGZpbGxlZCIsImoiLCJPYmplY3QiLCJrZXlzIiwiZXZlcnkiLCJzcGxpY2UiLCJyIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImdldFByb3RvdHlwZU9mIiwib2JqIiwibW9kZSIsInRoaXMiLCJucyIsImNyZWF0ZSIsImRlZiIsImN1cnJlbnQiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZvckVhY2giLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImciLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJlIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIkVycm9yIiwicmVwbGFjZSIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwiZGF0YSIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsInNvbWUiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJzZWxmIiwiYmluZCIsInB1c2giLCJfX3dlYnBhY2tfZXhwb3J0c19fIl0sInNvdXJjZVJvb3QiOiIifQ==